

<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prehƒæad invest√≠ci√≠</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        /* ===== Theme variables ===== */
        :root {
            --bg-body: #f1f5f9;
            --bg-blob-1: rgba(99, 102, 241, 0.08);
            --bg-blob-2: rgba(168, 85, 247, 0.06);
            --bg-blob-3: rgba(59, 130, 246, 0.05);
            --color-text: #1e293b;
            --color-text-secondary: #475569;
            --color-text-muted: #64748b;
            --color-heading: #1e293b;
            --color-heading-white: #1e293b;
            --bg-card: rgba(255, 255, 255, 0.82);
            --bg-card-border: rgba(148, 163, 184, 0.2);
            --bg-card-shadow: rgba(100, 116, 139, 0.1);
            --bg-card-shadow-hover: rgba(100, 116, 139, 0.18);
            --bg-card-hover-border: rgba(148, 163, 184, 0.35);
            --card-title-color: #1e293b;
            --card-title-border: rgba(148, 163, 184, 0.18);
            --bg-info-row: rgba(241, 245, 249, 0.8);
            --bg-info-row-border: rgba(226, 232, 240, 0.6);
            --color-label: #64748b;
            --color-value: #334155;
            --color-amount-1: #6366f1;
            --color-amount-2: #9333ea;
            --color-amount-3: #ec4899;
            --bg-section: rgba(255, 255, 255, 0.82);
            --section-title-color: #1e293b;
            --total-gradient-from: #6366f1;
            --total-gradient-via: #9333ea;
            --total-gradient-to: #ec4899;
            --color-note: #64748b;
            --color-update: #64748b;
            --color-update-strong: #475569;
            --chart-border: rgba(255, 255, 255, 0.9);
            --tooltip-bg: rgba(255, 255, 255, 0.95);
            --tooltip-title: #1e293b;
            --tooltip-body: #475569;
            --tooltip-border: rgba(226, 232, 240, 0.8);
            --legend-color: #475569;
            --scrollbar-thumb: rgba(148, 163, 184, 0.3);
            --scrollbar-thumb-hover: rgba(148, 163, 184, 0.5);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg-body: #0f0f1a;
                --bg-blob-1: rgba(88, 100, 240, 0.15);
                --bg-blob-2: rgba(168, 85, 247, 0.12);
                --bg-blob-3: rgba(59, 130, 246, 0.08);
                --color-text: #e2e8f0;
                --color-text-secondary: #94a3b8;
                --color-text-muted: #64748b;
                --color-heading: #ffffff;
                --color-heading-white: #ffffff;
                --bg-card: rgba(255, 255, 255, 0.05);
                --bg-card-border: rgba(255, 255, 255, 0.08);
                --bg-card-shadow: rgba(0, 0, 0, 0.2);
                --bg-card-shadow-hover: rgba(0, 0, 0, 0.3);
                --bg-card-hover-border: rgba(255, 255, 255, 0.15);
                --card-title-color: #e2e8f0;
                --card-title-border: rgba(255, 255, 255, 0.08);
                --bg-info-row: rgba(255, 255, 255, 0.04);
                --bg-info-row-border: rgba(255, 255, 255, 0.04);
                --color-label: #94a3b8;
                --color-value: #cbd5e1;
                --color-amount-1: #818cf8;
                --color-amount-2: #c084fc;
                --color-amount-3: #f472b6;
                --bg-section: rgba(255, 255, 255, 0.05);
                --section-title-color: #e2e8f0;
                --total-gradient-from: #818cf8;
                --total-gradient-via: #c084fc;
                --total-gradient-to: #f472b6;
                --color-note: #64748b;
                --color-update: #64748b;
                --color-update-strong: #94a3b8;
                --chart-border: rgba(15, 15, 26, 0.6);
                --tooltip-bg: rgba(15, 15, 26, 0.9);
                --tooltip-title: #e2e8f0;
                --tooltip-body: #cbd5e1;
                --tooltip-border: rgba(255, 255, 255, 0.1);
                --legend-color: #e2e8f0;
                --scrollbar-thumb: rgba(255, 255, 255, 0.1);
                --scrollbar-thumb-hover: rgba(255, 255, 255, 0.2);
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-body);
            background-image:
                radial-gradient(ellipse at 20% 50%, var(--bg-blob-1) 0%, transparent 60%),
                radial-gradient(ellipse at 80% 20%, var(--bg-blob-2) 0%, transparent 50%),
                radial-gradient(ellipse at 60% 80%, var(--bg-blob-3) 0%, transparent 50%);
            min-height: 100vh;
            padding: 24px;
            color: var(--color-text);
            transition: background 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Fade-in animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes shimmer {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }

        h1 {
            color: var(--color-heading);
            text-align: center;
            margin-bottom: 6px;
            font-size: 2.4em;
            font-weight: 800;
            letter-spacing: -0.5px;
            text-shadow: none;
            animation: fadeInUp 0.6s ease-out;
        }

        .subtitle {
            text-align: center;
            color: var(--color-text-secondary);
            font-size: 1.05em;
            font-weight: 400;
            margin-bottom: 28px;
            animation: fadeInUp 0.6s ease-out 0.1s both;
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-bottom: 28px;
        }

        .card {
            background: var(--bg-card);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--bg-card-border);
            border-radius: 16px;
            padding: 28px;
            box-shadow: 0 8px 32px var(--bg-card-shadow);
            transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.5s ease-out both;
        }

        .card:nth-child(1) { animation-delay: 0.15s; }
        .card:nth-child(2) { animation-delay: 0.25s; }
        .card:nth-child(3) { animation-delay: 0.35s; }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            border-radius: 16px 16px 0 0;
        }

        .card:nth-child(1)::before {
            background: linear-gradient(90deg, #6366f1, #818cf8);
        }
        .card:nth-child(2)::before {
            background: linear-gradient(90deg, #a855f7, #c084fc);
        }
        .card:nth-child(3)::before {
            background: linear-gradient(90deg, #ec4899, #f472b6);
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 16px 48px var(--bg-card-shadow-hover);
            border-color: var(--bg-card-hover-border);
        }

        .card-title {
            font-size: 1.25em;
            font-weight: 700;
            color: var(--card-title-color);
            margin-bottom: 18px;
            border-bottom: 1px solid var(--card-title-border);
            padding-bottom: 12px;
            letter-spacing: -0.2px;
            text-align: center;
        }

        .card-content {
            margin-top: 16px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding: 10px 14px;
            background: var(--bg-info-row);
            border-radius: 10px;
            border: 1px solid var(--bg-info-row-border);
        }

        .info-label {
            font-weight: 500;
            color: var(--color-label);
            font-size: 0.92em;
        }

        .info-value {
            font-weight: 600;
            color: var(--color-value);
            font-variant-numeric: tabular-nums;
        }

        .amount {
            font-size: 2.2em;
            font-weight: 800;
            text-align: center;
            margin: 18px 0 6px;
            font-variant-numeric: tabular-nums;
            letter-spacing: -0.5px;
        }

        .card:nth-child(1) .amount { color: var(--color-amount-1); }
        .card:nth-child(2) .amount { color: var(--color-amount-2); }
        .card:nth-child(3) .amount { color: var(--color-amount-3); }

        .chart-container {
            background: var(--bg-section);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--bg-card-border);
            border-radius: 16px;
            padding: 28px;
            box-shadow: 0 8px 32px var(--bg-card-shadow);
            margin-top: 24px;
            max-width: 560px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeInUp 0.5s ease-out 0.45s both;
        }

        .section-title {
            text-align: center;
            color: var(--section-title-color);
            font-weight: 700;
            font-size: 1.15em;
            letter-spacing: -0.2px;
        }

        .chart-wrapper {
            position: relative;
            width: 100%;
            max-width: 400px;
            aspect-ratio: 1;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .chart-wrapper canvas {
            display: block !important;
            max-width: 100% !important;
            max-height: 100% !important;
        }

        .total-summary {
            background: var(--bg-section);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--bg-card-border);
            border-radius: 16px;
            padding: 36px;
            box-shadow: 0 8px 32px var(--bg-card-shadow);
            text-align: center;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.5s ease-out 0.55s both;
        }

        .total-summary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--total-gradient-from), var(--total-gradient-via), var(--total-gradient-to));
        }

        .total-amount {
            font-size: 3.2em;
            font-weight: 800;
            margin: 16px 0 8px;
            font-variant-numeric: tabular-nums;
            letter-spacing: -1px;
            background: linear-gradient(135deg, var(--total-gradient-from), var(--total-gradient-via), var(--total-gradient-to));
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 4s linear infinite;
        }

        .total-note {
            color: var(--color-note);
            font-size: 0.9em;
            font-weight: 400;
        }

        .last-update {
            text-align: center;
            color: var(--color-update);
            margin-bottom: 24px;
            font-size: 0.92em;
            text-shadow: none;
            animation: fadeInUp 0.6s ease-out 0.15s both;
        }

        .last-update strong {
            color: var(--color-update-strong);
        }

        .chart-container h2 {
            text-align: center;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: var(--scrollbar-thumb);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--scrollbar-thumb-hover);
        }

        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding: 20px 14px 14px;
            }
            h1 {
                font-size: 1.8em;
            }
            .cards-container {
                grid-template-columns: 1fr;
                gap: 14px;
            }
            .card, .chart-container, .total-summary {
                padding: 20px;
            }
            .amount {
                font-size: 1.85em;
            }
            .total-amount {
                font-size: 2.4em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Prehƒæad invest√≠ci√≠</h1>
        <div class="subtitle">Aktu√°lny stav v√°≈°ho portf√≥lia</div>

        <div class="last-update">
            Posledn√° aktualiz√°cia: <strong id="globalLastUpdate">22.2.2026 14:26</strong>
        </div>

        <div class="cards-container">
            <!-- Marek Card -->
            <div class="card">
                <div class="card-title">Marek EIC (8898636)</div>
                <div class="card-content">
                    <div class="info-row">
                        <span class="info-label">üìÖ D√°tum:</span>
                        <span class="info-value" id="marekDate">22.2.2026</span>
                    </div>
                    <div class="amount" id="marekAmount" data-value="1687.23">1 687,23 ‚Ç¨</div>
                </div>
            </div>

            <!-- Katka Card -->
            <div class="card">
                <div class="card-title">Katka Amundi</div>
                <div class="card-content">
                    <div class="info-row">
                        <span class="info-label">üìÖ D√°tum:</span>
                        <span class="info-value" id="katkaDate">22.2.2026</span>
                    </div>
                    <div class="amount" id="katkaAmount" data-value="1615.57">1 615,57 ‚Ç¨</div>
                </div>
            </div>

            <!-- Deti Card -->
            <div class="card">
                <div class="card-title">Deti EIC (8499993)</div>
                <div class="card-content">
                    <div class="info-row">
                        <span class="info-label">üìÖ D√°tum:</span>
                        <span class="info-value" id="detiDate">22.2.2026</span>
                    </div>
                    <div class="amount" id="detiAmount" data-value="9340.29">9 340,29 ‚Ç¨</div>
                </div>
            </div>
        </div>



        <div class="total-summary">
            <h2 class="section-title" style="margin-bottom: 6px;">Celkov√° suma invest√≠ci√≠</h2>
            <div class="total-amount" id="totalAmount">0 ‚Ç¨</div>
            <div class="total-note">S√∫hrn v≈°etk√Ωch investiƒçn√Ωch √∫ƒçtov</div>
        </div>

        <div class="chart-container">
            <h2 class="section-title" style="margin-bottom: 18px;">Rozdelenie invest√≠ci√≠</h2>
            <div class="chart-wrapper">
                <canvas id="investmentChart"></canvas>
            </div>
        </div>
    </div>

    <script>
        // Count-up anim√°cia pre sumy
        function animateValue(element, endValue, duration) {
            const start = performance.now();
            function step(timestamp) {
                const elapsed = timestamp - start;
                const progress = Math.min(elapsed / duration, 1);
                // Ease-out cubic
                const eased = 1 - Math.pow(1 - progress, 3);
                const current = endValue * eased;
                element.textContent = formatAmount(current) + ' ‚Ç¨';
                if (progress < 1) requestAnimationFrame(step);
            }
            requestAnimationFrame(step);
        }

        // Naƒç√≠tanie d√°t z HTML
        function loadData() {
            const marekEl = document.getElementById('marekAmount');
            const detiEl = document.getElementById('detiAmount');
            const katkaEl = document.getElementById('katkaAmount');
            const totalEl = document.getElementById('totalAmount');

            const marekAmount = parseFloat(marekEl.getAttribute('data-value'));
            const detiAmount = parseFloat(detiEl.getAttribute('data-value'));
            const katkaAmount = parseFloat(katkaEl.getAttribute('data-value'));

            const data = [
                { name: 'Marek EIC', amount: marekAmount },
                { name: 'Katka Amundi', amount: katkaAmount },
                { name: 'Deti EIC', amount: detiAmount }
            ];

            // V√Ωpoƒçet celkovej sumy
            const totalAmount = marekAmount + detiAmount + katkaAmount;

            // Animovan√© zobrazenie s√∫m
            animateValue(marekEl, marekAmount, 600);
            animateValue(detiEl, detiAmount, 750);
            animateValue(katkaEl, katkaAmount, 900);
            animateValue(totalEl, totalAmount, 1000);

            // Vytvorenie grafu
            createChart(data);
        }

        function createChart(data) {
            const ctx = document.getElementById('investmentChart').getContext('2d');
            const labels = data.map(item => item.name);
            const amounts = data.map(item => item.amount);
            const cs = getComputedStyle(document.documentElement);
            const colors = [
                cs.getPropertyValue('--color-amount-1').trim(),
                cs.getPropertyValue('--color-amount-2').trim(),
                cs.getPropertyValue('--color-amount-3').trim()
            ];

            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: amounts,
                        backgroundColor: colors,
                        borderWidth: 2,
                        borderColor: cs.getPropertyValue('--chart-border').trim(),
                        hoverBorderColor: cs.getPropertyValue('--bg-card-hover-border').trim(),
                        hoverOffset: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 16,
                                color: cs.getPropertyValue('--legend-color').trim(),
                                font: {
                                    size: 13,
                                    family: "'Inter', 'Segoe UI', sans-serif"
                                },
                                usePointStyle: true,
                                pointStyle: 'circle',
                                generateLabels: function(chart) {
                                    const ds = chart.data.datasets[0];
                                    const total = ds.data.reduce((a, b) => a + b, 0);
                                    const legendColor = getComputedStyle(document.documentElement).getPropertyValue('--legend-color').trim();
                                    return chart.data.labels.map((label, i) => ({
                                        text: label + ' (' + ((ds.data[i] / total) * 100).toFixed(1) + '%)',
                                        fillStyle: ds.backgroundColor[i],
                                        fontColor: legendColor,
                                        strokeStyle: 'transparent',
                                        hidden: !chart.getDataVisibility(i),
                                        index: i
                                    }));
                                }
                            }
                        },
                        tooltip: {
                            backgroundColor: cs.getPropertyValue('--tooltip-bg').trim(),
                            titleColor: cs.getPropertyValue('--tooltip-title').trim(),
                            bodyColor: cs.getPropertyValue('--tooltip-body').trim(),
                            borderColor: cs.getPropertyValue('--tooltip-border').trim(),
                            borderWidth: 1,
                            cornerRadius: 10,
                            padding: 12,
                            bodyFont: { family: "'Inter', sans-serif" },
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = formatAmount(context.parsed);
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = ((context.parsed / total) * 100).toFixed(1);
                                    return ` ${label}: ${value} ‚Ç¨ (${percentage}%)`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function formatAmount(amount) {
            return new Intl.NumberFormat('sk-SK', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(amount);
        }

        // Automatick√© naƒç√≠tanie po naƒç√≠tan√≠ str√°nky
        window.addEventListener('load', loadData);
    </script>
</body>
</html>
